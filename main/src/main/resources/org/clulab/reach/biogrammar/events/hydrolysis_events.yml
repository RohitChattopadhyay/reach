# Hydrolysis events require themes of type BioChemicalEntity; causes must be MacroMolecule; protein must be BioChemicalEntity
# Maybe we need a custom action for this guy.
#
#BioChemicalEntities: "Protein", "Gene_or_gene_product", "Simple_chemical", "Complex", "GENE"
#MacroMolecules: "Protein", "Gene_or_gene_product", "Complex", "GENE"

vars: org/clulab/reach/biogrammar/vars.yml

rules:

- name: hydrolysis_1
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "We compared the rate of GTP hydrolysis for Ras and mUbRas in the presence of the catalytic domains of two GAPs."
  pattern: |
    trigger = [word=/(?i)hydrolysis/]
    theme:BioChemicalEntity = (<compound? compound) | (nmod_of compound?) [!word=/^GAPs?$/]
    protein:BioChemicalEntity? = <nmod_of? </${objects}/? (nmod_for | nmod_on) [!word=/^GAPs?$/]
    cause:MacroMolecule = /${passive_agents}/

- name: hydrolysis_2
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "Here we show that monoubiquitination decreases the sensi(<acl|<advcl)y of Ras to GAP-mediated hydrolysis"
  pattern: |
    trigger = [word=/(?i)hydrolysis/]
    theme:BioChemicalEntity = (compound | <dep) [!word=/^GAPs?$/]
    protein:BioChemicalEntity = <nmod_to | nmod_for [!word=/^GAPs?$/]

- name: hydrolysis_2wrong
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "Here we show that monoubiquitination decreases the sensitivity of Ras to GAP-mediated hydrolysis"
  pattern: |
    trigger = [word=/(?i)hydrolysis/]
    theme:BioChemicalEntity = (compound | <dep) [!word=/^GAPs?$/]
    protein:BioChemicalEntity = (</${agents}/ dep ccomp ${objects} nmod_of) | (<nmod_of </${objects}/ (nmod_for|nmod_on|nmod_in)) [!word=/^GAPs?$/]
    cause:MacroMolecule? = </${agents}/ dep ccomp nmod_to

- name: hydrolysis_3
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "No increase in the rate of GTP hydrolysis was observed for mUbRas"
  pattern: |
    trigger = [word=/(?i)hydrolysis/]
    theme:BioChemicalEntity = (compound | <dep) [!word=/^GAPs?$/]
    protein:BioChemicalEntity? = (< /nmod_/){,2} <nsubjpass /nmod_for|nmod_in/ [!word=/^GAPs?$/]

- name: hydrolysis_4
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "RasPDZ2UL retains intrinsic GTP hydrolysis activity"
  pattern: |
    trigger = [word=/(?i)hydrolysis/]
    theme:BioChemicalEntity = (<compound)? compound [!word=/^GAPs?$/]
    protein:BioChemicalEntity? = (<compound)? </${objects}/ [word=/^has$|^have$|^had$|^retain(s|ed)?$|^show(s|ed)?$|^display(s|ed)?$/] ${agents} [!word=/^GAPs?$/]

- name: hydrolysis_token_1
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "We measured the rate of GAP-mediated GTP hydrolysis"
  type: token
  pattern: |
    @theme:Simple_chemical
    (?<trigger> hydrolysis)

- name: hydrolysis_token_2
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "Renin is an enzyme that hydrolyzes Ras-GTP."
  type: token
  pattern: |
    (?<trigger> [word=/hydrolyze(s|d)?/ & tag=/^V/])
    @theme:BioChemicalEntity #TODO: add & !word=/^GAPs?$/]

- name: hydrolysis_decl1
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "RasGAP hydrolyzes GTP to GDP"
  pattern: |
    trigger = [word=/(?i)^hydrolyz/ & tag=/^VB[^N]?/]
    theme:BioChemicalEntity = ${objects} [!word=/^GAPs?$/]
    cause:MacroMolecule? = (${agents} | (<xcomp? <"acl:relcl" </${conjunctions}/?))

- name: hydrolysis_pass1
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "Ras-GDP is hydrolyzed by 26S proteasome without ubiquitination"
  pattern: |
    trigger = [word=/(?i)^hydrolyz/ & tag=VBN]
    theme:BioChemicalEntity = ( </acl|advcl/ | nsubjpass | <"acl:relcl" ) [!word=/^GAPs?$/]
    cause:MacroMolecule? = ${passive_agents}

- name: hydrolysis_subjnom1
  label: Hydrolysis
  priority: ${ priority }
  action: mkBioMention
  example: "MEK hydrolysis of Ras-GDP increased."
  pattern: |
    trigger = [word=/(?i)^hydrolysis/]
    theme:BioChemicalEntity = nmod_of [!word=/^GAPs?$/]
    cause:MacroMolecule? = compound
